---
layout: post
title: Шпаргалка по сертификации приложений на Windows Phone 7
date: Wed, 31 Aug 2011 06:45:00 +0000
comments: true
---

Всем привет! Сегодня я представлю вашему вниманию вольный перевод статьи Peter Kuhn ["Windows Phone 7 Application Certification Cheat Sheet"](http://www.silverlightshow.net/items/Windows-Phone-7-Application-Certification-Cheat-Sheet.aspx), в которой описываются основные моменты, на которые стоит обратить внимание перед публикацией приложения в Marketplace.

## Приложение в целом

Перечислены некоторые основные требования к приложениям:

<!--more--> 

* В приложении должны быть: название, номер версии и контакты техподдержки ([5.6](http://msdn.microsoft.com/en-us/library/hh184840.aspx));
* Приложение должно быть полностью работоспособным после установки из Marketplace (не может требовать какой-то дополнительной оплаты для активации, разблокировки и т.п.) ([2.1](http://msdn.microsoft.com/en-us/library/hh184841.aspx));
* Приложение не должно продавать или рекламировать тарифные планы мобильных операторов ([2.2](http://msdn.microsoft.com/en-us/library/hh184841.aspx));
* Если приложению требуется скачать большой объем данных, оно должно предупреждать об этом в описании ([2.5](http://msdn.microsoft.com/en-us/library/hh184841.aspx));
* Вся реклама в приложении должна соответствовать [Microsoft Advertising Creative Acceptance Policy Guide](http://go.microsoft.com/fwlink/?LinkID=216913) ([2.4](http://msdn.microsoft.com/en-us/library/hh184841.aspx));
* Если в приложении предусмотрено общение между людьми, приложение должно удостовериться в том, что пользователю больше 13 лет ([2.6](http://msdn.microsoft.com/en-us/library/hh184841.aspx));
* Если в приложении планируется использовать личную информацию о пользователе необходимо: предоставить пользователю вашу политику конфиденциальности, спросить у пользователя разрешение на использование его информации и предоставить механизм, благодаря которому пользователь сможет в любой момент отказаться ([2.8](http://msdn.microsoft.com/en-us/library/hh184841.aspx));
* Приложение должно быть чем-то большим, чем просто запуск веб-страницы ([2.10](http://msdn.microsoft.com/en-us/library/hh184841.aspx));
* Разработчик должен убедиться, что все элементы управления видны и легко читаемые со всеми темами телефона (темной/светлой) ([5.5.2](http://msdn.microsoft.com/en-us/library/hh184840.aspx)).


## XAP пакет ([4.1.1](http://msdn.microsoft.com/en-us/library/hh184844.aspx))

В требованиях к пакету, содержащему ваше приложение, есть следующие пункты:

**Максимальный размер:** 225 МБ;

**Требуемое содержимое:**

* WMAppManifest.xml
* AppManifest.xml
* Файлы для сборки, указанные в AppManifest.xml
* Большая и маленькая иконки приложения

**Требования к WMAppManifest.xml:**

* Поле названия не должно быть пустым
* Название должно совпадать с названием, указанным при загрузке приложения в Marketplace


Пожалуйста учтите, что эти требования иногда меняются. Так, ранее размер файлов не должен был превышать 400 МБ.


## Проверка кода

Чтобы успешно пройти проверку кода приложение должно соответствовать следующим требованиям:

* Приложение не должно вызывать нативный код с помощью P/Invoke или COM-совместимостей ([4.2.2](http://msdn.microsoft.com/en-us/library/hh184844.aspx));
* Приложение должно быть собрано в режиме "Release"; не должна содержаться отладочная информация ([4.2.3](http://msdn.microsoft.com/en-us/library/hh184844.aspx));
* Приложение не должно копировать функции телефона ([4.2.4](http://msdn.microsoft.com/en-us/library/hh184844.aspx)); (?)
* Приложение не должно использовать XNA Game или Graphics одновременно с System.Windows.Controls ([4.2.5](http://msdn.microsoft.com/en-us/library/hh184844.aspx)).


## Возможности телефона ([4.3](http://msdn.microsoft.com/en-us/library/hh184844.aspx))


Возможности, которые использует приложение, содержатся в файле WMAppManifest.xml и автоматически определяются во время отправки приложения в Marketplace.

* Приложение должно работать с использованием автоматически распознанных возможностей. Майкрософт рекомендует вам использовать [Capability Detection Tool](http://msdn.microsoft.com/en-us/library/gg180730.aspx) для проверки работоспособности с возможностями, распознанными во время отправки приложения ([4.3](http://msdn.microsoft.com/en-us/library/hh184844.aspx)).


## Языки

Каждое приложение должно поддерживать как минимум один из перечисленных языков ([4.4](http://msdn.microsoft.com/en-us/library/hh184844.aspx)):

* Английский
* Французский
* Итальянский
* Немецкий
* Испанский

Так же есть дополнительные требования:

* Должен быть установлен нейтральный язык ([4.4](http://msdn.microsoft.com/en-us/library/hh184844.aspx));
* Для каждого поддерживаемого языка должны быть переведены описание и пользовательский интерфейс ([5.5.1](http://msdn.microsoft.com/en-us/library/hh184840.aspx)).





## Иконки/изображения ([4.5, 4.6, 4.7](http://msdn.microsoft.com/en-us/library/hh184844.aspx))

Для более детального изучения иконографии Windows Phone 7 вы можете изучить статью
[Windows Phone 7 Iconography](http://www.silverlightshow.net/items/Windows-Phone-7-Iconography-.aspx), здесь же находится краткая информация по изображениям и иконкам:

<table border="1" cellspacing="0" cellpadding="2">
<tbody>
<tr>
<td valign="top">Изображение</td>
<td valign="top">Обязательно</td>
<td valign="top">Формат</td>
<td valign="top">Прозрачный фон</td>
<td valign="top">Размер</td>
</tr>
<tr>
<td valign="top">Маленькая иконка приложения</td>
<td valign="top">Да</td>
<td valign="top">PNG</td>
<td valign="top">Да</td>
<td valign="top">62x62</td>
</tr>
<tr>
<td valign="top">Большая иконка приложения</td>
<td valign="top">Да</td>
<td valign="top">PNG</td>
<td valign="top">Да</td>
<td valign="top">173x173</td>
</tr>
<tr>
<td valign="top">Маленькая иконка для Marketplace</td>
<td valign="top">Да</td>
<td valign="top">PNG</td>
<td valign="top">Нет</td>
<td valign="top">99x99</td>
</tr>
<tr>
<td valign="top">Большая иконка для Marketplace</td>
<td valign="top">Да</td>
<td valign="top">PNG</td>
<td valign="top">Нет</td>
<td valign="top">173x173</td>
</tr>
<tr>
<td valign="top">Большая иконка для Marketplace для PC</td>
<td valign="top">Да</td>
<td valign="top">PNG</td>
<td valign="top">Нет</td>
<td valign="top">200x200</td>
</tr>
<tr>
<td valign="top">Задний фон</td>
<td valign="top">Нет</td>
<td valign="top">PNG</td>
<td valign="top">Нет</td>
<td valign="top">1000x800</td>
</tr>
<tr>
<td valign="top">Скриншот приложения</td>
<td valign="top">Минимум 1, максимум 8</td>
<td valign="top">PNG</td>
<td valign="top">Нет</td>
<td valign="top">480x800</td>
</tr>
<tr>
<td valign="top">Иконка для Application Bar</td>
<td valign="top">Нет</td>
<td valign="top">PNG</td>
<td valign="top">Да</td>
<td valign="top">48x48 (Содержимое 26x26)</td>
</tr>
</tbody>
</table>
Тайлы и иконки должны соответствовать приложению ([4.7](http://msdn.microsoft.com/en-us/library/hh184844.aspx)).

## Временные рамки

Присутствуют следующие специальные временнЫе ограничения:

* Приложение должно появляться на экране в течении 5 секунд (экрана заставки достаточно) ([5.2.1 – 5.2.3](http://msdn.microsoft.com/en-us/library/hh184840.aspx));
* Приложение должно быть доступно для пользовательского ввода не позднее, чем через 20 секунд после запуска ([5.2.1 – 5.2.3](http://msdn.microsoft.com/en-us/library/hh184840.aspx));
* При блокировке интерфейса более чем на 3 секунды необходимо показывать Progress Bar или Busy Indicator ([5.1.3](http://msdn.microsoft.com/en-us/library/hh184840.aspx)).

## Кнопка Назад
При использовании кнопки Назад необходимо учитывать следующие требования:

* При нажатии на кнопку Назад приложение должно переходить на предыдущую страницу ([5.2.4, 5.2.4.1](http://msdn.microsoft.com/en-us/library/hh184840.aspx));
* Нажатие должно закрывать диалоговое/контекстное меню и оставаться на текущей странице ([5.2.4.3](http://msdn.microsoft.com/en-us/library/hh184840.aspx));
* Если нажатие происходит на первой странице приложения, оно должно закрыться ([5.2.4.2](http://msdn.microsoft.com/en-us/library/hh184840.aspx));
* Для игр: во время игры нажатие на кнопку Назад может вызывать меню паузы ([5.2.4.4](http://msdn.microsoft.com/en-us/library/hh184840.aspx)).

Кнопку Назад нельзя использовать для каких-либо функций, не обозначенных выше.

## Надежность, безопасность и прочее

Следующие требования связаны с безопасностью, надежностью и встроенными в телефон функциями:

* Приложение должно работать на любом устройстве с Windows Phone 7 ([5.1.1](http://msdn.microsoft.com/en-us/library/hh184840.aspx));
* Приложение не должно неожиданно закрываться из-за необработанных исключений или других причин ([5.1.2, 5.3.3](http://msdn.microsoft.com/en-us/library/hh184840.aspx));
* При обработке ошибок приложение должно предоставлять понятные пользователю сообщения ([5.1.2](http://msdn.microsoft.com/en-us/library/hh184840.aspx));
* Приложение не должно препятствовать использованию функций телефона (звонки, SMS/MMS) ([5.3.1](http://msdn.microsoft.com/en-us/library/hh184840.aspx));
* Приложение должно продолжать работу после использования функций телефона (звонки, SMS/MMS) ([5.3.2](http://msdn.microsoft.com/en-us/library/hh184840.aspx));
* Приложение не должно содержать вирусы, вредоносный код или вредоносные функции ([5.4.1](http://msdn.microsoft.com/en-us/library/hh184840.aspx));
* Приложение не должно запускать небезопасный код или пытаться обойти механизм песочницы ([5.4.2, 5.4.3](http://msdn.microsoft.com/en-us/library/hh184840.aspx));
* Приложение не должно ставить под угрозу безопасность телефона или Marketplace ([2.3](http://msdn.microsoft.com/en-us/library/hh184841.aspx));
* Приложение не должно использовать более 90 МБ оперативной памяти в телефонах с 256 (или менее) МБ ([5.2.5](http://msdn.microsoft.com/en-us/library/hh184840.aspx));
* Приложение не должно использовать Trial API в цикле (например, игровом). То есть API должен вызываться редко, а значение им возвращенное - кэшироваться ([5.2.6](http://msdn.microsoft.com/en-us/library/hh184840.aspx)).

## Приложения, использующие местоположение

К приложениям, использующим местоположение устройства пользователя предъявляются следующие требования:

* Приложение должно использовать Microsoft Location Service API ([2.7.1](http://msdn.microsoft.com/en-us/library/hh184841.aspx));
* Информацию о местоположении можно использовать только для функций самого приложения (нельзя использовать для показа таргетированной рекламы) ([2.7.7](http://msdn.microsoft.com/en-us/library/hh184841.aspx));
* Приложение должно предупреждать пользователя об использовании данных о его местоположении ([2.7.2](http://msdn.microsoft.com/en-us/library/hh184841.aspx));
* Приложение должно предоставлять возможность отключения использования данных о местоположении ([2.7.3](http://msdn.microsoft.com/en-us/library/hh184841.aspx));
* Приложение должно обеспечивать возможность отказа от использования данных о местоположении, если эти данные станут доступны третьим лицам ([2.7.4](http://msdn.microsoft.com/en-us/library/hh184841.aspx));
* Приложение должно защищать полученные данные о местоположении от несанкционированного доступа ([2.7.8](http://msdn.microsoft.com/en-us/library/hh184841.aspx));
* Если сервис определения местоположения недоступен, приложение должно оставаться отзывчивым (продолжать реагировать на пользовательский ввод) ([6.1](http://msdn.microsoft.com/en-us/library/hh184838.aspx));
* Приложение не должно вмешиваться в системные функции, связанные с Location Service API ([2.7.5](http://msdn.microsoft.com/en-us/library/hh184841.aspx));
* Приложение не должно нарушать работу устройства, делая Location Service недоступным ([2.7.6](http://msdn.microsoft.com/en-us/library/hh184841.aspx), [6.1](http://msdn.microsoft.com/en-us/library/hh184838.aspx)).

## Служба Push-уведомлений

Для использования Push-уведомлений ваше приложение должно удовлетворять следующим требованиям:

* У всех используемых Push-уведомлений должно быть описание ([2.9.1](http://msdn.microsoft.com/en-us/library/hh184841.aspx));
* Приложение должно спросить у пользователя разрешение на использование Push-уведомлений и предоставить механизм, благодаря которому пользователь сможет в любой момент отказаться от них ([2.9.1](http://msdn.microsoft.com/en-us/library/hh184841.aspx));
* Запрещается злоупотреблять Push-уведомлениями ([2.9.2](http://msdn.microsoft.com/en-us/library/hh184841.aspx));
* Не разрешается использовать Push-уведомления в отношении вопросов жизни и смерти или других критически важных данных, изменяющихся в реальном времени ([2.9.3](http://msdn.microsoft.com/en-us/library/hh184841.aspx));
* Приложение должно предоставить возможность самостоятельно отключить всплывающие уведомления ([6.2.1](http://msdn.microsoft.com/en-us/library/hh184838.aspx));
* Приложение должно спрашивать разрешение для использования всплывающих уведомлений ([6.2.2](http://msdn.microsoft.com/en-us/library/hh184838.aspx)).

На этом основные требования подходят к концу. С полным перечнем требований вы можете ознакомиться по ссылке: [Application Certification Requirements for Windows Phone](http://msdn.microsoft.com/en-us/library/hh184843.aspx).

**Всем удачного прохождения сертификации! :)**

